<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>School Fees</title>

<link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
</head>
<body>

<!-- Header -->
<header class="app-header">
    <a href="/" class="back-btn">‚Üê</a>
    <h1>School Fees</h1>

    <div class="theme-switch">
        <button onclick="setTheme('light')">‚òÄ</button>
        <button onclick="setTheme('dark')">üåô</button>
    </div>
</header>

<!-- Body -->
<main class="app-body">

<form class="app-form" action="/generate" method="POST">

    <input type="hidden" name="invoice_type" value="school">

    <!-- Student Section -->
    <div class="form-card">
        <h3>Student Details</h3>

        <input name="name" placeholder="Student Name" required>
        <input name="mobile" placeholder="Parent Mobile">
        <input name="address" placeholder="Class / Section">

        <div class="check-group">
            <label><input type="checkbox" name="show_mobile"> Show Mobile</label>
            <label><input type="checkbox" name="show_address"> Show Class</label>
        </div>
    </div>

    <!-- Fees Section -->
    <div class="form-card">
        <h3>Fees Details</h3>

        <input name="service_name" placeholder="Fees Type (Tuition / Exam)">
        <input type="number" name="quantity" value="1" hidden>
        <input type="number" step="0.01" name="rate" placeholder="Fees Amount">

        <textarea name="note" placeholder="Remarks"></textarea>

        <label class="single-check">
            <input type="checkbox" name="show_note"> Show Remarks
        </label>
    </div>

    <!-- PDF Section -->
    <div class="form-card">
        <h3>PDF Settings</h3>
        <input name="name_pdf" placeholder="PDF File Name">
    </div>

    <button class="primary-btn" type="submit">
        Generate Receipt
    </button>

</form>
<style>

    * {
    margin: 0;
    padding: 0;:root {
    --bg: #f3f4f6;
    --card: #ffffff;
    --text: #111;
    --sub: #555;
    --header: #5b6cff;
}

body.dark {
    --bg: #0f172a;
    --card: #1e293b;
    --text: #f8fafc;
    --sub: #cbd5e1;
    --header: #020617;
}
    box-sizing: border-box;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

body {
    background: #f3f4f6;
    min-height: 100vh;
}

body {
    background: var(--bg);
    color: var(--text);
}

.app-header {
    background: var(--header);
}

.form-card {
    background: var(--card);
}

.form-card h3,
.app-form input,
.app-form textarea,
.total-box {
    color: var(--text);
}

.total-box {
    background: rgba(91,108,255,0.12);
}

/* ---------- BUTTON ---------- */
.theme-switch {
    position: absolute;
    right: 12px;
    top: 12px;
    display: flex;
    gap: 6px;
}

.theme-switch button {
    border: none;
    background: rgba(255,255,255,0.25);
    color: white;
    padding: 6px 8px;
    border-radius: 8px;
    font-size: 12px;
    cursor: pointer;
}

/* ---------- ERROR ---------- */
input:required:invalid {
    border-color: #ff4d4d;
}

input:required:valid {
    border-color: #5b6cff;
}
</style>
<script>
const qty = document.querySelector('input[name="quantity"]');
const rate = document.querySelector('input[name="rate"]');
const total = document.getElementById('totalAmount');

function calculate() {
    const q = parseFloat(qty?.value || 1);
    const r = parseFloat(rate?.value || 0);
    total.innerText = (q * r).toFixed(2);
}

qty?.addEventListener("input", calculate);
rate?.addEventListener("input", calculate);

</script>
<script>
function setTheme(mode) {
    document.body.classList.toggle("dark", mode === "dark");
    localStorage.setItem("theme", mode);
}

(function () {
    const saved = localStorage.getItem("theme") || "light";
    setTheme(saved);
})();
</script>

</main>

</body>
</html>
<div class="total-box">
    Total: ‚Çπ <span id="totalAmount">0.00</span>
</div>

