<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Welcome ‚Äì Invoice Pro</title>

<style>
:root{
    --primary:#5b6cff;
    --secondary:#7c8cff;
}

*{box-sizing:border-box}

body{
    background:linear-gradient(135deg,var(--primary),var(--secondary));
    font-family:system-ui,-apple-system;
    margin:0;
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    overflow:hidden;
}

/* floating background */
.bg{
    position:absolute;
    width:280px;
    height:280px;
    background:rgba(255,255,255,.08);
    border-radius:50%;
    animation:float 12s infinite ease-in-out;
}
.bg.two{
    width:200px;
    height:200px;
    right:-50px;
    bottom:-50px;
    animation-delay:5s;
}

@keyframes float{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-30px)}
}

/* main card */
.card{
    position:relative;
    background:rgba(255,255,255,0.18);
    padding:34px;
    border-radius:26px;
    max-width:420px;
    width:90%;
    text-align:center;
    backdrop-filter:blur(14px);
    box-shadow:0 20px 50px rgba(0,0,0,.2);
    animation:fadeUp .8s ease forwards;
}

@keyframes fadeUp{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:translateY(0)}
}

/* LOGO */
.logo-wrap{
    width:90px;
    height:90px;
    margin:0 auto 16px;
    border-radius:22px;
    background:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    animation:pulse 2.5s infinite;
    box-shadow:0 12px 30px rgba(0,0,0,.25);
}

.logo-wrap img{
    width:54px;
    height:54px;
}

@keyframes pulse{
    0%{transform:scale(1)}
    50%{transform:scale(1.05)}
    100%{transform:scale(1)}
}

h1{
    font-size:26px;
    margin-bottom:8px;
    font-weight:700;
}

.subtitle{
    font-size:14px;
    opacity:.9;
    line-height:1.6;
}

ul{
    list-style:none;
    padding:0;
    margin:22px 0;
    text-align:left;
}

ul li{
    font-size:14px;
    margin-bottom:10px;
    opacity:0;
    animation:slideIn .6s ease forwards;
}

ul li:nth-child(1){animation-delay:.3s}
ul li:nth-child(2){animation-delay:.45s}
ul li:nth-child(3){animation-delay:.6s}
ul li:nth-child(4){animation-delay:.75s}

@keyframes slideIn{
    from{opacity:0;transform:translateX(-10px)}
    to{opacity:1;transform:translateX(0)}
}

button{
    width:100%;
    padding:14px;
    font-size:15px;
    border:none;
    border-radius:14px;
    background:#fff;
    color:var(--primary);
    font-weight:700;
    cursor:pointer;
    transition:.2s ease;
}

button:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 20px rgba(0,0,0,.2);
}

.small{
    font-size:12px;
    opacity:.8;
    margin-top:14px;
}
</style>
</head>

<body>

<div class="bg"></div>
<div class="bg two"></div>

<div class="card">

<!-- üî• APP LOGO -->
<div class="logo-wrap">
    <img 
      src="{{ url_for('static', filename='icons/icon-512.png') }}?v=2"
      alt="Invoice Pro Logo">
</div>

<h1>Invoice Pro</h1>
<p class="subtitle">
Create professional invoices in seconds ‚Äî simple, fast & fully offline.
</p>

<ul>
<li>üìÑ Instant invoice creation</li>
<li>üïí Invoice history tracking</li>
<li>üåì Light & Dark mode</li>
<li>üîê Your data stays private</li>
</ul>

<form method="post">
<button type="submit">Get Started</button>
</form>

<p class="small">No sign-up required ‚Ä¢ Free to use</p>

</div>
<button id="installBtn" class="install-btn hidden">
  üì≤ Install Invoice Pro
</button>
<style>
    .install-btn{
    position:fixed;
    bottom:80px;
    left:50%;
    transform:translateX(-50%);
    padding:14px 22px;
    font-size:15px;
    font-weight:700;
    border:none;
    border-radius:30px;
    background:linear-gradient(135deg,#5b6cff,#7c8cff);
    color:#fff;
    box-shadow:0 10px 30px rgba(0,0,0,.25);
    cursor:pointer;
    z-index:2000;

    animation:
        float 3s ease-in-out infinite,
        pulse 2s infinite;
}

/* hidden initially */
.hidden{display:none}

/* floating effect */
@keyframes float{
    0%,100%{transform:translate(-50%,0)}
    50%{transform:translate(-50%,-8px)}
}

/* glow pulse */
@keyframes pulse{
    0%{box-shadow:0 0 0 0 rgba(91,108,255,.6)}
    70%{box-shadow:0 0 0 18px rgba(91,108,255,0)}
    100%{box-shadow:0 0 0 0 rgba(91,108,255,0)}
}

/* click ripple */
.install-btn:active{
    transform:translateX(-50%) scale(.95);
}
</style>
<script>
let deferredPrompt;
const installBtn = document.getElementById("installBtn");

window.addEventListener("beforeinstallprompt", e => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.classList.remove("hidden");
});

installBtn.addEventListener("click", async () => {
    if(!deferredPrompt) return;
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;

    if(outcome === "accepted"){
        installBtn.style.display="none";
    }
    deferredPrompt = null;
});

/* hide button after install */
window.addEventListener("appinstalled", () => {
    installBtn.style.display="none";
});
</script>

</body>
</html>